{% extends 'layout/_front.html.twig' %}

{% block title %}Contactez-nous{% endblock %}

{% block meta %}
    <meta name="keywords" content="krav-maga, self-defense, mma, cours femmes, cours ados, cardio training, combat, mental" />
    <meta name="description" content="Des questions sur la pratique du Krav Maga et/ou de la self defense ? N'hésitez pas à nous contacter ou retouvez nous à Liancourt et à Villers-Sous-Saint-Leu au cours de nos entraînements.">
    <meta name="og:title" property="og:title" content="Contactez-nous">
{% endblock %}

{% block header %}
    {% include 'front/components/_banner.html.twig' with {
        'image': asset('build/images/contact.webp'),
        'title': ('front.contact.header.title'|trans),
        'darkOverlay': true,
    } only %}
{% endblock %}

{% block body %}

    <div class="section" itemscope itemtype="https://schema.org/Organization">
        <h2 data-aos="zoom-out" data-aos-duration="1000">{{ 'front.contact.page.title'|trans }}</h2>
        {% if contact is not empty %}
            <div>{{ contact|raw }}</div>
        {% endif %}
        <p>
            Vous pouvez aussi nous retrouver :
            <ul class="contact-locations">
                {# @var array<array{location: Location, days: array<string, array{start: string, end: string}>}> schedules#}
                {% for schedule in schedules %}
                    <li>
                        à <span itemprop="addressLocality">{{ schedule['location'].name }}</span>
                        {% for day, values in schedule['days'] %}
                            {% if loop.first %}
                                {% set connector = '' %}
                            {% elseif loop.last%}
                                {% set connector = 'et' %}
                            {% else %}
                                {% set connector = ',' %}
                            {% endif %}
                            {{ connector }} le {{ values['day']|trans }} de {{ values['start'] }} à {{ values['end'] }}
                        {% endfor %}
                        {% if schedule['location'].localization is not empty %}
                            <a itemscope itemtype="https://schema.org/GeoCoordinates" href="{{ schedule['location'].localization }}" target="_blank">
                                <i class="icon-location"></i>
                                <meta itemprop="latitude" content="{{ schedule['location'].latitude }}" />
                                <meta itemprop="longitude" content="{{ schedule['location'].longitude }}" />
                            </a>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </p>
        <div class="m-top-4">
            {{ form_start(form) }}
            {{ form_row(form.email) }}
            {{ form_row(form.message, {'attr': {'class': 'large'}}) }}
            {{ form_row(form.captcha) }}
            <div class="flex flex--content-end">
                <button type="submit" class="button">{{ 'global.validate'|trans }} <i class="icon-checkmark"></i></button>
            </div>
            {{ form_end(form) }}
        </div>
    </div>

{% endblock %}
